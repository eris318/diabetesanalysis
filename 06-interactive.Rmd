# Interactive component
```{r}
library(plotly)

death_year <- read_tsv("Underlying Cause of Death, 1999-2020_year.txt")
death_year <- death_year[1:1122,2:8]
death_year <- death_year %>% 
  filter(Year==2000|Year==2001|Year==2002|Year==2003|Year==2004|Year==2005|
           Year==2006|Year==2007|Year==2008|Year==2009|Year==2010|Year==2011|
           Year==2012|Year==2013|Year==2014|Year==2015|Year==2016|Year==2017|
           Year==2018)
diabetes1$Year <- as.numeric(diabetes1$Year)
diabetes_death <-  left_join(death_year,diabetes1)
diabetes_death <- diabetes_death %>% mutate(Freq=Deaths/Population*100000)


diabetes_death %>%
  plot_ly(
    x = ~Percentage, 
    y = ~Freq, 
    color = ~State, 
    frame = ~Year,
    text = ~State, 
    hoverinfo = "text",
    type = 'scatter',
    mode = 'markers'
  )%>%
  animation_opts(
    frame=1000, 
    transition=1000)
```


